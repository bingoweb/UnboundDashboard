<Window x:Class="UnboundDashboard.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
        mc:Ignorable="d"
        Title="UNBOUND DNS MONITOR"
        Height="900" Width="1480"
        WindowStartupLocation="CenterScreen"
        TextElement.Foreground="{StaticResource TextPrimary}"
        TextElement.FontFamily="Segoe UI"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="CanResizeWithGrip">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="80" 
                      CornerRadius="0" 
                      GlassFrameThickness="0" 
                      UseAeroCaptionButtons="False" 
                      ResizeBorderThickness="6" />
    </WindowChrome.WindowChrome>

    <Window.Resources>
        <!-- Custom style for Title Bar SVG buttons -->
        <Style x:Key="WindowControlBtn" TargetType="Button">
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Foreground" Value="#64748b"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="bd" Background="{TemplateBinding Background}" CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#17223b"/>
                                <!-- When hovered, Foreground changes to whatever is in the Tag property -->
                                <Setter Property="Foreground" Value="{Binding Tag, RelativeSource={RelativeSource Self}}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Window.Background>
        <SolidColorBrush Color="Transparent"/>
    </Window.Background>

    <Border CornerRadius="16" ClipToBounds="True">
        <!-- WINDOW BACKGROUND: Multi-layer gradient with decorative orbs -->
        <Border.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#050a18" Offset="0"/>
                <GradientStop Color="#0a1228" Offset="0.4"/>
                <GradientStop Color="#0d0f20" Offset="0.7"/>
                <GradientStop Color="#08081a" Offset="1"/>
            </LinearGradientBrush>
        </Border.Background>
        
        <Grid>
            <!-- ═══ DECORATIVE BACKGROUND ORBS ═══ -->
            <!-- Top-left cyan orb -->
        <Ellipse Width="500" Height="500"
                 HorizontalAlignment="Left" VerticalAlignment="Top"
                 Margin="-200,-200,0,0"
                 Opacity="0.04">
            <Ellipse.Fill>
                <RadialGradientBrush>
                    <GradientStop Color="#22d3ee" Offset="0"/>
                    <GradientStop Color="Transparent" Offset="1"/>
                </RadialGradientBrush>
            </Ellipse.Fill>
        </Ellipse>

        <!-- Bottom-right purple orb -->
        <Ellipse Width="600" Height="600"
                 HorizontalAlignment="Right" VerticalAlignment="Bottom"
                 Margin="0,0,-250,-250"
                 Opacity="0.04">
            <Ellipse.Fill>
                <RadialGradientBrush>
                    <GradientStop Color="#a78bfa" Offset="0"/>
                    <GradientStop Color="Transparent" Offset="1"/>
                </RadialGradientBrush>
            </Ellipse.Fill>
        </Ellipse>

        <!-- Center emerald orb -->
        <Ellipse Width="400" Height="400"
                 HorizontalAlignment="Center" VerticalAlignment="Center"
                 Margin="0,-100,0,0"
                 Opacity="0.025">
            <Ellipse.Fill>
                <RadialGradientBrush>
                    <GradientStop Color="#34d399" Offset="0"/>
                    <GradientStop Color="Transparent" Offset="1"/>
                </RadialGradientBrush>
            </Ellipse.Fill>
        </Ellipse>

        <!-- ═══ MAIN CONTENT GRID ═══ -->
        <Grid Margin="28">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- ═══════════════════════════════════════════════════════ -->
            <!--              CUSTOM TITLE BAR + HEADER                  -->
            <!-- ═══════════════════════════════════════════════════════ -->
            <Border Grid.Row="0" CornerRadius="16" Padding="24,14">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#0c1225" Offset="0"/>
                        <GradientStop Color="#111a33" Offset="0.5"/>
                        <GradientStop Color="#0c1225" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>
                <Border.BorderBrush>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#1a2744" Offset="0"/>
                        <GradientStop Color="#22d3ee" Offset="0.3"/>
                        <GradientStop Color="#a78bfa" Offset="0.7"/>
                        <GradientStop Color="#1a2744" Offset="1"/>
                    </LinearGradientBrush>
                </Border.BorderBrush>
                <Border.BorderThickness>1</Border.BorderThickness>
                <Border.Effect>
                    <DropShadowEffect ShadowDepth="0" BlurRadius="30" Color="#22d3ee" Opacity="0.12"/>
                </Border.Effect>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Left: Status badges -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" WindowChrome.IsHitTestVisibleInChrome="True">
                        <!-- Pulsing status dot -->
                        <Border Background="#0a2118" CornerRadius="20" Padding="12,6" Margin="0,0,10,0"
                                BorderBrush="#1a3d2e" BorderThickness="1">
                            <StackPanel Orientation="Horizontal">
                                <Ellipse x:Name="StatusDot" Width="8" Height="8"
                                         Fill="{Binding StatusColor}" Margin="0,0,8,0"
                                         VerticalAlignment="Center"/>
                                <TextBlock Text="{Binding StatusText}" FontSize="11" FontWeight="Bold"
                                           Foreground="{StaticResource EmeraldAccent}" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        <Border Background="#0c1a2e" CornerRadius="20" Padding="12,6"
                                BorderBrush="#162d4a" BorderThickness="1">
                            <TextBlock Text="{Binding ServerAddress}" FontSize="11"
                                       Foreground="{StaticResource CyanAccent}" FontFamily="Consolas"/>
                        </Border>
                    </StackPanel>

                    <!-- Center: Brand -->
                    <StackPanel Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <TextBlock HorizontalAlignment="Center" FontSize="22" FontWeight="Bold">
                            <TextBlock.Foreground>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <GradientStop Color="#22d3ee" Offset="0"/>
                                    <GradientStop Color="#a78bfa" Offset="1"/>
                                </LinearGradientBrush>
                            </TextBlock.Foreground>
                            U N B O U N D
                        </TextBlock>
                        <TextBlock Text="D N S   M O N I T O R"
                                   FontSize="8" FontWeight="SemiBold"
                                   HorizontalAlignment="Center"
                                   Foreground="{StaticResource TextDim}"
                                   Margin="0,3,0,0"/>
                    </StackPanel>

                    <!-- Right: Time + controls -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" WindowChrome.IsHitTestVisibleInChrome="True">
                        <Border Background="#0c1a2e" CornerRadius="20" Padding="12,6" Margin="0,0,10,0"
                                BorderBrush="#162d4a" BorderThickness="1">
                            <TextBlock Text="{Binding CurrentDateTime}" FontSize="12"
                                       Foreground="{StaticResource TextMuted}" FontFamily="Consolas"/>
                        </Border>

                        <Button Style="{StaticResource WindowControlBtn}" Tag="#22d3ee" ToolTip="Küçült" Margin="0,0,6,0" Click="OnMinimize">
                            <Path Data="M 6,16 L 14,16" 
                                  Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" 
                                  StrokeThickness="2.5" StrokeStartLineCap="Round" StrokeEndLineCap="Round" />
                        </Button>
                        <Button Style="{StaticResource WindowControlBtn}" Tag="#fb7185" ToolTip="Kapat" Click="OnClose">
                            <Path Data="M 6,6 L 14,14 M 14,6 L 6,14" 
                                  Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" 
                                  StrokeThickness="2.5" StrokeStartLineCap="Round" StrokeEndLineCap="Round" />
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Error Banner -->
            <Border Grid.Row="0" VerticalAlignment="Bottom"
                    Margin="60,-1,60,0"
                    Background="#2a0f15"
                    BorderBrush="#f43f5e"
                    BorderThickness="0,0,0,2"
                    CornerRadius="0,0,10,10"
                    Padding="16,8"
                    Visibility="{Binding HasError, Converter={StaticResource BooleanToVisibilityConverter}}">
                <TextBlock Text="{Binding ErrorMessage}"
                           Foreground="#fda4af" FontSize="11" TextWrapping="Wrap"
                           HorizontalAlignment="Center"/>
            </Border>

            <!-- ═══════════════════════════════════════════════════════ -->
            <!--                   METRIC CARDS ROW                      -->
            <!-- ═══════════════════════════════════════════════════════ -->
            <UniformGrid Grid.Row="1" Rows="1" Columns="4" Margin="0,18,0,0">

                <!-- ◆ TOTAL QUERIES -->
                <Border CornerRadius="16" Margin="0,0,10,0" Padding="0"
                        BorderThickness="1" ClipToBounds="True">
                    <Border.BorderBrush>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Color="#22d3ee" Offset="0"/>
                            <GradientStop Color="#0f1d32" Offset="0.5"/>
                        </LinearGradientBrush>
                    </Border.BorderBrush>
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Color="#0d1f35" Offset="0"/>
                            <GradientStop Color="#0a1525" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                    <Border.Effect>
                        <DropShadowEffect ShadowDepth="0" BlurRadius="24" Color="#22d3ee" Opacity="0.15"/>
                    </Border.Effect>
                    <Grid>
                        <!-- Glowing top edge -->
                        <Border Height="2" VerticalAlignment="Top">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <GradientStop Color="Transparent" Offset="0"/>
                                    <GradientStop Color="#22d3ee" Offset="0.5"/>
                                    <GradientStop Color="Transparent" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                        </Border>
                        <!-- Decorative inner orb -->
                        <Ellipse Width="120" Height="120" VerticalAlignment="Top" HorizontalAlignment="Center"
                                 Margin="0,-40,0,0" Opacity="0.06">
                            <Ellipse.Fill>
                                <RadialGradientBrush>
                                    <GradientStop Color="#22d3ee" Offset="0"/>
                                    <GradientStop Color="Transparent" Offset="1"/>
                                </RadialGradientBrush>
                            </Ellipse.Fill>
                        </Ellipse>
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20,28,20,20">
                            <TextBlock Text="{Binding TotalQueries}" FontSize="44" FontWeight="Bold"
                                       HorizontalAlignment="Center">
                                <TextBlock.Foreground>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#22d3ee" Offset="0"/>
                                        <GradientStop Color="#67e8f9" Offset="1"/>
                                    </LinearGradientBrush>
                                </TextBlock.Foreground>
                                <TextBlock.Effect>
                                    <DropShadowEffect ShadowDepth="0" BlurRadius="16" Color="#22d3ee" Opacity="0.4"/>
                                </TextBlock.Effect>
                            </TextBlock>
                            <TextBlock Text="TOPLAM SORGU" FontSize="10" FontWeight="Bold"
                                       Foreground="{StaticResource TextMuted}" HorizontalAlignment="Center"
                                       Margin="0,6,0,0"/>
                            <TextBlock Text="Gönderilen toplam istek" FontSize="9"
                                       Foreground="{StaticResource TextDim}" HorizontalAlignment="Center"
                                       Margin="0,3,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- ◆ CACHE HIT -->
                <Border CornerRadius="16" Margin="0,0,10,0" Padding="0"
                        BorderThickness="1" ClipToBounds="True">
                    <Border.BorderBrush>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Color="#34d399" Offset="0"/>
                            <GradientStop Color="#0f1d32" Offset="0.5"/>
                        </LinearGradientBrush>
                    </Border.BorderBrush>
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Color="#0a1f1a" Offset="0"/>
                            <GradientStop Color="#0a1525" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                    <Border.Effect>
                        <DropShadowEffect ShadowDepth="0" BlurRadius="24" Color="#34d399" Opacity="0.15"/>
                    </Border.Effect>
                    <Grid>
                        <Border Height="2" VerticalAlignment="Top">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <GradientStop Color="Transparent" Offset="0"/>
                                    <GradientStop Color="#34d399" Offset="0.5"/>
                                    <GradientStop Color="Transparent" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                        </Border>
                        <Ellipse Width="120" Height="120" VerticalAlignment="Top" HorizontalAlignment="Center"
                                 Margin="0,-40,0,0" Opacity="0.06">
                            <Ellipse.Fill>
                                <RadialGradientBrush>
                                    <GradientStop Color="#34d399" Offset="0"/>
                                    <GradientStop Color="Transparent" Offset="1"/>
                                </RadialGradientBrush>
                            </Ellipse.Fill>
                        </Ellipse>
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20,28,20,20">
                            <TextBlock Text="{Binding CacheHitPercent, StringFormat='{}{0:F0}%'}"
                                       FontSize="44" FontWeight="Bold" HorizontalAlignment="Center">
                                <TextBlock.Foreground>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#34d399" Offset="0"/>
                                        <GradientStop Color="#6ee7b7" Offset="1"/>
                                    </LinearGradientBrush>
                                </TextBlock.Foreground>
                                <TextBlock.Effect>
                                    <DropShadowEffect ShadowDepth="0" BlurRadius="16" Color="#34d399" Opacity="0.4"/>
                                </TextBlock.Effect>
                            </TextBlock>
                            <TextBlock Text="ÖNBELLEK" FontSize="10" FontWeight="Bold"
                                       Foreground="{StaticResource TextMuted}" HorizontalAlignment="Center"
                                       Margin="0,6,0,0"/>
                            <TextBlock Text="{Binding CacheHitsText}" FontSize="9"
                                       Foreground="{StaticResource TextDim}" HorizontalAlignment="Center"
                                       TextWrapping="Wrap" Margin="0,3,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- ◆ RESPONSE TIME -->
                <Border CornerRadius="16" Margin="0,0,10,0" Padding="0"
                        BorderThickness="1" ClipToBounds="True">
                    <Border.BorderBrush>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Color="#a78bfa" Offset="0"/>
                            <GradientStop Color="#0f1d32" Offset="0.5"/>
                        </LinearGradientBrush>
                    </Border.BorderBrush>
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Color="#14102a" Offset="0"/>
                            <GradientStop Color="#0a1525" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                    <Border.Effect>
                        <DropShadowEffect ShadowDepth="0" BlurRadius="24" Color="#a78bfa" Opacity="0.15"/>
                    </Border.Effect>
                    <Grid>
                        <Border Height="2" VerticalAlignment="Top">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <GradientStop Color="Transparent" Offset="0"/>
                                    <GradientStop Color="#a78bfa" Offset="0.5"/>
                                    <GradientStop Color="Transparent" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                        </Border>
                        <Ellipse Width="120" Height="120" VerticalAlignment="Top" HorizontalAlignment="Center"
                                 Margin="0,-40,0,0" Opacity="0.06">
                            <Ellipse.Fill>
                                <RadialGradientBrush>
                                    <GradientStop Color="#a78bfa" Offset="0"/>
                                    <GradientStop Color="Transparent" Offset="1"/>
                                </RadialGradientBrush>
                            </Ellipse.Fill>
                        </Ellipse>
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20,28,20,20">
                            <TextBlock Text="{Binding ResponseTime, StringFormat='{}{0:F0}ms'}"
                                       FontSize="44" FontWeight="Bold" HorizontalAlignment="Center">
                                <TextBlock.Foreground>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#a78bfa" Offset="0"/>
                                        <GradientStop Color="#c4b5fd" Offset="1"/>
                                    </LinearGradientBrush>
                                </TextBlock.Foreground>
                                <TextBlock.Effect>
                                    <DropShadowEffect ShadowDepth="0" BlurRadius="16" Color="#a78bfa" Opacity="0.4"/>
                                </TextBlock.Effect>
                            </TextBlock>
                            <TextBlock Text="CEVAP SÜRESİ" FontSize="10" FontWeight="Bold"
                                       Foreground="{StaticResource TextMuted}" HorizontalAlignment="Center"
                                       Margin="0,6,0,0"/>
                            <TextBlock Text="{Binding ResponseTimeText}" FontSize="9"
                                       Foreground="{StaticResource TextDim}" HorizontalAlignment="Center"
                                       TextWrapping="Wrap" Margin="0,3,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- ◆ QPS -->
                <Border CornerRadius="16" Padding="0"
                        BorderThickness="1" ClipToBounds="True">
                    <Border.BorderBrush>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Color="#fbbf24" Offset="0"/>
                            <GradientStop Color="#0f1d32" Offset="0.5"/>
                        </LinearGradientBrush>
                    </Border.BorderBrush>
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Color="#1a1708" Offset="0"/>
                            <GradientStop Color="#0a1525" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                    <Border.Effect>
                        <DropShadowEffect ShadowDepth="0" BlurRadius="24" Color="#fbbf24" Opacity="0.12"/>
                    </Border.Effect>
                    <Grid>
                        <Border Height="2" VerticalAlignment="Top">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <GradientStop Color="Transparent" Offset="0"/>
                                    <GradientStop Color="#fbbf24" Offset="0.5"/>
                                    <GradientStop Color="Transparent" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                        </Border>
                        <Ellipse Width="120" Height="120" VerticalAlignment="Top" HorizontalAlignment="Center"
                                 Margin="0,-40,0,0" Opacity="0.06">
                            <Ellipse.Fill>
                                <RadialGradientBrush>
                                    <GradientStop Color="#fbbf24" Offset="0"/>
                                    <GradientStop Color="Transparent" Offset="1"/>
                                </RadialGradientBrush>
                            </Ellipse.Fill>
                        </Ellipse>
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20,28,20,20">
                            <TextBlock Text="{Binding QPS, StringFormat='{}{0:F1}'}"
                                       FontSize="44" FontWeight="Bold" HorizontalAlignment="Center">
                                <TextBlock.Foreground>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#fbbf24" Offset="0"/>
                                        <GradientStop Color="#fde68a" Offset="1"/>
                                    </LinearGradientBrush>
                                </TextBlock.Foreground>
                                <TextBlock.Effect>
                                    <DropShadowEffect ShadowDepth="0" BlurRadius="16" Color="#fbbf24" Opacity="0.4"/>
                                </TextBlock.Effect>
                            </TextBlock>
                            <TextBlock Text="SORGU / SANİYE" FontSize="10" FontWeight="Bold"
                                       Foreground="{StaticResource TextMuted}" HorizontalAlignment="Center"
                                       Margin="0,6,0,0"/>
                            <TextBlock Text="Gerçek zamanlı QPS" FontSize="9"
                                       Foreground="{StaticResource TextDim}" HorizontalAlignment="Center"
                                       Margin="0,3,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </UniformGrid>

            <!-- ═══════════════════════════════════════════════════════ -->
            <!--                    MAIN CONTENT                         -->
            <!-- ═══════════════════════════════════════════════════════ -->
            <Grid Grid.Row="2" Margin="0,18,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="18"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- ═══ LEFT COLUMN ═══ -->
                <Grid Grid.Column="0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="14"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- CACHE PANEL -->
                    <Border Grid.Row="0" CornerRadius="16" Padding="24,20"
                            BorderBrush="#162d3a" BorderThickness="1">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#0c1225" Offset="0"/>
                                <GradientStop Color="#0a1a20" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Header -->
                            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,16">
                                <Border CornerRadius="8" Padding="8,5" Margin="0,0,10,0"
                                        BorderBrush="#1a3d2e" BorderThickness="1">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                            <GradientStop Color="#0a2118" Offset="0"/>
                                            <GradientStop Color="#0e2a1f" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Border.Background>
                                    <TextBlock Text="✦" FontSize="12" Foreground="{StaticResource EmeraldAccent}"/>
                                </Border>
                                <TextBlock Text="ÖNBELLEK DURUMU" FontSize="14" FontWeight="Bold"
                                           Foreground="{StaticResource EmeraldAccent}" VerticalAlignment="Center"/>
                            </StackPanel>

                            <!-- Big progress bar -->
                            <Grid Grid.Row="1" Margin="0,0,0,14">
                                <ProgressBar Value="{Binding CacheHitPercent, Mode=OneWay}"
                                             Style="{StaticResource GlowProgressBar}" Height="28"/>
                                <TextBlock Text="{Binding CacheHitPercent, StringFormat='{}{0:F0}% önbellekte'}"
                                           HorizontalAlignment="Center" VerticalAlignment="Center"
                                           FontSize="12" FontWeight="Bold" Foreground="White">
                                    <TextBlock.Effect>
                                        <DropShadowEffect ShadowDepth="0" BlurRadius="6" Color="Black" Opacity="0.6"/>
                                    </TextBlock.Effect>
                                </TextBlock>
                            </Grid>

                            <!-- Stats -->
                            <TextBlock Grid.Row="2" Text="{Binding CacheStats}"
                                       TextWrapping="Wrap" LineHeight="24" FontSize="12"
                                       Foreground="{StaticResource TextSecondary}" Margin="0,4,0,8"/>

                            <!-- Status message -->
                            <Border Grid.Row="3" CornerRadius="10" Padding="14,10" VerticalAlignment="Bottom"
                                    BorderBrush="#1a3d2e" BorderThickness="1">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Color="#081a12" Offset="0"/>
                                        <GradientStop Color="#0a2118" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <TextBlock Text="{Binding CacheStatusMessage}" TextWrapping="Wrap"
                                           FontWeight="SemiBold" FontSize="11"
                                           Foreground="{Binding CacheStatusColor}"/>
                            </Border>
                        </Grid>
                    </Border>

                    <!-- QPS CHART -->
                    <Border Grid.Row="2" CornerRadius="16" Padding="24,16"
                            BorderBrush="#162d3a" BorderThickness="1">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#0c1225" Offset="0"/>
                                <GradientStop Color="#0d1530" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                <Border CornerRadius="8" Padding="8,5" Margin="0,0,10,0"
                                        BorderBrush="#162d4a" BorderThickness="1" Background="#0c1a2e">
                                    <TextBlock Text="◈" FontSize="12" Foreground="{StaticResource CyanAccent}"/>
                                </Border>
                                <TextBlock Text="SORGU HIZI" FontSize="14" FontWeight="Bold"
                                           Foreground="{StaticResource CyanAccent}" VerticalAlignment="Center"/>
                                <TextBlock Text="  Son 60sn" FontSize="10" Foreground="{StaticResource TextDim}"
                                           VerticalAlignment="Center"/>
                            </StackPanel>
                            <lvc:CartesianChart Series="{Binding QPSSeries}" 
                                                XAxes="{Binding XAxes}"
                                                YAxes="{Binding YAxes}"
                                                Height="130" Background="Transparent"/>
                        </StackPanel>
                    </Border>
                </Grid>

                <!-- ═══ RIGHT COLUMN ═══ -->
                <Grid Grid.Column="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="14"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- SYSTEM PANEL -->
                    <Border Grid.Row="0" CornerRadius="16" Padding="24,20"
                            BorderBrush="#162d3a" BorderThickness="1">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#0c1225" Offset="0"/>
                                <GradientStop Color="#10152a" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <StackPanel>
                            <!-- Header -->
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                <Border CornerRadius="8" Padding="8,5" Margin="0,0,10,0"
                                        BorderBrush="#162d4a" BorderThickness="1" Background="#0c1a2e">
                                    <TextBlock Text="⬡" FontSize="12" Foreground="{StaticResource CyanAccent}"/>
                                </Border>
                                <TextBlock Text="SİSTEM" FontSize="14" FontWeight="Bold"
                                           Foreground="{StaticResource CyanAccent}" VerticalAlignment="Center"/>
                            </StackPanel>

                            <!-- CPU -->
                            <Border Background="#0a1020" CornerRadius="10" Padding="16,12" Margin="0,0,0,8"
                                    BorderBrush="#141e35" BorderThickness="1">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="80"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="İşlemci" FontSize="12"
                                               Foreground="{StaticResource TextSecondary}" VerticalAlignment="Center"/>
                                    <ProgressBar Grid.Column="1" Value="{Binding CpuUsage, Mode=OneWay}"
                                                 Style="{StaticResource GlowProgressBar}" Margin="0,0,14,0"/>
                                    <TextBlock Grid.Column="2" Text="{Binding CpuUsage, StringFormat='{}{0:F0}%'}"
                                               FontSize="13" FontWeight="Bold" Foreground="{Binding CpuColor}"
                                               VerticalAlignment="Center" MinWidth="40" TextAlignment="Right"/>
                                </Grid>
                            </Border>

                            <!-- RAM -->
                            <Border Background="#0a1020" CornerRadius="10" Padding="16,12" Margin="0,0,0,8"
                                    BorderBrush="#141e35" BorderThickness="1">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="80"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Bellek" FontSize="12"
                                               Foreground="{StaticResource TextSecondary}" VerticalAlignment="Center"/>
                                    <ProgressBar Grid.Column="1" Value="{Binding RamPercent, Mode=OneWay}"
                                                 Style="{StaticResource GlowProgressBar}" Margin="0,0,14,0"/>
                                    <TextBlock Grid.Column="2" Text="{Binding RamText}" FontSize="11"
                                               FontWeight="SemiBold" Foreground="{Binding RamColor}"
                                               VerticalAlignment="Center" MinWidth="90" TextAlignment="Right"/>
                                </Grid>
                            </Border>

                            <!-- Disk -->
                            <Border Background="#0a1020" CornerRadius="10" Padding="16,12" Margin="0,0,0,16"
                                    BorderBrush="#141e35" BorderThickness="1">
                                <TextBlock Text="{Binding DiskText, StringFormat='💾 Disk: {0}'}"
                                           FontSize="12" Foreground="{StaticResource TextSecondary}"/>
                            </Border>

                            <!-- Security -->
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <Border CornerRadius="8" Padding="8,5" Margin="0,0,10,0"
                                        BorderBrush="#2a1f45" BorderThickness="1" Background="#14102a">
                                    <TextBlock Text="🛡" FontSize="12"/>
                                </Border>
                                <TextBlock Text="GÜVENLİK" FontSize="14" FontWeight="Bold"
                                           Foreground="{StaticResource VioletAccent}" VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBlock Text="{Binding SecurityStatus}" TextWrapping="Wrap" FontSize="11"
                                       LineHeight="22" Foreground="{StaticResource TextSecondary}"/>
                        </StackPanel>
                    </Border>

                    <!-- QUERY TYPES -->
                    <Border Grid.Row="2" CornerRadius="16" Padding="24,16"
                            BorderBrush="#2a1f45" BorderThickness="1">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#0c1225" Offset="0"/>
                                <GradientStop Color="#14102a" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <Border CornerRadius="8" Padding="8,5" Margin="0,0,10,0"
                                        BorderBrush="#2a1f45" BorderThickness="1" Background="#14102a">
                                    <TextBlock Text="◉" FontSize="12" Foreground="{StaticResource VioletAccent}"/>
                                </Border>
                                <TextBlock Text="SORGU TÜRLERİ" FontSize="14" FontWeight="Bold"
                                           Foreground="{StaticResource VioletAccent}" VerticalAlignment="Center"/>
                            </StackPanel>
                            <ItemsControl ItemsSource="{Binding QueryTypes}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Background="#0a1020" CornerRadius="8" Padding="14,8" Margin="0,0,0,5"
                                                BorderBrush="#141e35" BorderThickness="1">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="{Binding Name}" FontSize="11"
                                                           Foreground="{StaticResource TextSecondary}"/>
                                                <Border Grid.Column="1" CornerRadius="6" Padding="10,3"
                                                        BorderBrush="#1a3d2e" BorderThickness="1">
                                                    <Border.Background>
                                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                            <GradientStop Color="#081a12" Offset="0"/>
                                                            <GradientStop Color="#0a2118" Offset="1"/>
                                                        </LinearGradientBrush>
                                                    </Border.Background>
                                                    <TextBlock Text="{Binding Count}" FontSize="11"
                                                               Foreground="{StaticResource EmeraldAccent}" FontWeight="Bold"/>
                                                </Border>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
                    </Border>
                </Grid>
            </Grid>

            <!-- ═══════════════════════════════════════════════════════ -->
            <!--                  ACTION BUTTONS                         -->
            <!-- ═══════════════════════════════════════════════════════ -->
            <Border Grid.Row="3" CornerRadius="16" Padding="18,14" Margin="0,18,0,0"
                    BorderBrush="#162d3a" BorderThickness="1">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#0c1225" Offset="0"/>
                        <GradientStop Color="#0d1530" Offset="0.5"/>
                        <GradientStop Color="#0c1225" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>
                <UniformGrid Rows="1" Columns="4">
                    <Button Content="⚡ ÖN ISITMA" Command="{Binding WarmupCommand}"
                            Style="{StaticResource PillButton}" Margin="0,0,10,0">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#059669" Offset="0"/>
                                <GradientStop Color="#34d399" Offset="1"/>
                            </LinearGradientBrush>
                        </Button.Background>
                    </Button>
                    <Button Content="🗑 TEMİZLEME" Command="{Binding FlushCommand}"
                            Style="{StaticResource PillButton}" Margin="0,0,10,0">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#d97706" Offset="0"/>
                                <GradientStop Color="#fbbf24" Offset="1"/>
                            </LinearGradientBrush>
                        </Button.Background>
                    </Button>
                    <Button Content="🔄 YENİDEN BAŞLAT" Command="{Binding RestartCommand}"
                            Style="{StaticResource PillButton}" Margin="0,0,10,0">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#0891b2" Offset="0"/>
                                <GradientStop Color="#22d3ee" Offset="1"/>
                            </LinearGradientBrush>
                        </Button.Background>
                    </Button>
                    <Button Content="🚀 HIZ TESTİ" Command="{Binding SpeedTestCommand}"
                            Style="{StaticResource PillButton}">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#7c3aed" Offset="0"/>
                                <GradientStop Color="#a78bfa" Offset="1"/>
                            </LinearGradientBrush>
                        </Button.Background>
                    </Button>
                </UniformGrid>
            </Border>
        </Grid>
        </Grid>
    </Border>
</Window>
