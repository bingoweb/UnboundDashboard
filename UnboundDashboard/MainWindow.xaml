<Window x:Class="UnboundDashboard.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
        mc:Ignorable="d"
        Title="UNBOUND DNS MONITOR"
        Height="800" Width="1200"
        WindowStartupLocation="CenterScreen"
        TextElement.Foreground="{StaticResource TextPrimary}"
        TextElement.FontFamily="Segoe UI, Tahoma, Arial, sans-serif"
        TextOptions.TextFormattingMode="Display"
        TextOptions.TextRenderingMode="ClearType"
        TextOptions.TextHintingMode="Fixed"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="NoResize"
        Icon="app.ico">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="80" 
                      CornerRadius="0" 
                      GlassFrameThickness="0" 
                      UseAeroCaptionButtons="False" 
                      ResizeBorderThickness="6" />
    </WindowChrome.WindowChrome>

    <Window.Resources>
        <!-- Custom style for Title Bar SVG buttons -->
        <Style x:Key="WindowControlBtn" TargetType="Button">
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Foreground" Value="#64748b"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="bd" Background="{TemplateBinding Background}" CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#17223b"/>
                                <!-- When hovered, Foreground changes to whatever is in the Tag property -->
                                <Setter Property="Foreground" Value="{Binding Tag, RelativeSource={RelativeSource Self}}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Global TextBlock style for crispness and subtle shadow -->
        <Style TargetType="TextBlock">
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect ShadowDepth="1" BlurRadius="3" Opacity="0.6" Color="#03050a" />
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Minimalist Dark ScrollBar -->
        <Style TargetType="ScrollBar">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Width" Value="6"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Grid Background="Transparent">
                            <Track x:Name="PART_Track" IsDirectionReversed="true">
                                <Track.Thumb>
                                    <Thumb>
                                        <Thumb.Template>
                                            <ControlTemplate TargetType="Thumb">
                                                <Border CornerRadius="3" Background="#2a3b5a" Margin="2,0,0,0"/>
                                            </ControlTemplate>
                                        </Thumb.Template>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Professional SVG Icons -->
        <!-- Server / Database (Warmup) -->
        <Geometry x:Key="Icon_Server">M4 7C4 5.34315 7.58172 4 12 4C16.4183 4 20 5.34315 20 7M4 7C4 8.65685 7.58172 10 12 10C16.4183 10 20 8.65685 20 7M4 7V17C4 18.6569 7.58172 20 12 20C16.4183 20 20 18.6569 20 17V7M4 12C4 13.6569 7.58172 15 12 15C16.4183 15 20 13.6569 20 12</Geometry>
        
        <!-- Trash / Broom / Erase (Flush) -->
        <Geometry x:Key="Icon_Trash">M19 7L18.1327 19.1425C18.0579 20.1891 17.187 21 16.1378 21H7.86224C6.81296 21 5.94208 20.1891 5.86732 19.1425L5 7M10 11V17M14 11V17M15 7V4C15 3.44772 14.5523 3 14 3H10C9.44772 3 9 3.44772 9 4V7M4 7H20</Geometry>
        
        <!-- Reload / Restart -->
        <Geometry x:Key="Icon_Reload">M4 4V9H4.58152M19.9381 11C19.446 7.05369 16.0796 4 12 4C8.64262 4 5.76829 6.06817 4.58152 9M4.58152 9H9M20 20V15H19.4185M19.4185 15C18.2317 17.9318 15.3574 20 12 20C7.92038 20 4.55399 16.9463 4.06189 13M19.4185 15H15</Geometry>
        
        <!-- Lightning / SpeedTest -->
        <Geometry x:Key="Icon_Lightning">M13 10V3L4 14H11V21L20 10H13Z</Geometry>
        
        <!-- Activity / Pulse (Response Time) -->
        <Geometry x:Key="Icon_Pulse">M3 12H7L10 4L14 20L17 12H21</Geometry>
        
        <!-- Shield / Security -->
        <Geometry x:Key="Icon_Shield">M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z</Geometry>
        
        <!-- Microchip / CPU -->
        <Geometry x:Key="Icon_Cpu">M9 9H15V15H9V9ZM8 8V16H16V8H8ZM6 6H18V18H6V6ZM4 6V8H3V10H4V14H3V16H4V18C4 19.1046 4.89543 20 6 20H8V21H10V20H14V21H16V20H18C19.1046 20 20 19.1046 20 18V16H21V14H20V10H21V8H20V6C20 4.89543 19.1046 4 18 4H16V3H14V4H10V3H8V4H6C4.89543 4 4 4.89543 4 6Z</Geometry>

    </Window.Resources>

    <Window.Background>
        <SolidColorBrush Color="Transparent"/>
    </Window.Background>

    <Border CornerRadius="16" ClipToBounds="True">
        <!-- WINDOW BACKGROUND: Multi-layer gradient with decorative orbs -->
        <Border.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#050a18" Offset="0"/>
                <GradientStop Color="#0a1228" Offset="0.4"/>
                <GradientStop Color="#0d0f20" Offset="0.7"/>
                <GradientStop Color="#08081a" Offset="1"/>
            </LinearGradientBrush>
        </Border.Background>
        
        <Grid>
            <!-- ═══ DECORATIVE BACKGROUND ORBS ═══ -->
            <!-- Top-left cyan orb -->
        <Ellipse Width="500" Height="500"
                 HorizontalAlignment="Left" VerticalAlignment="Top"
                 Margin="-200,-200,0,0"
                 Opacity="0.04">
            <Ellipse.Fill>
                <RadialGradientBrush>
                    <GradientStop Color="#22d3ee" Offset="0"/>
                    <GradientStop Color="Transparent" Offset="1"/>
                </RadialGradientBrush>
            </Ellipse.Fill>
        </Ellipse>

        <!-- Bottom-right purple orb -->
        <Ellipse Width="600" Height="600"
                 HorizontalAlignment="Right" VerticalAlignment="Bottom"
                 Margin="0,0,-250,-250"
                 Opacity="0.04">
            <Ellipse.Fill>
                <RadialGradientBrush>
                    <GradientStop Color="#a78bfa" Offset="0"/>
                    <GradientStop Color="Transparent" Offset="1"/>
                </RadialGradientBrush>
            </Ellipse.Fill>
        </Ellipse>

        <!-- Center emerald orb -->
        <Ellipse Width="400" Height="400"
                 HorizontalAlignment="Center" VerticalAlignment="Center"
                 Margin="0,-100,0,0"
                 Opacity="0.025">
            <Ellipse.Fill>
                <RadialGradientBrush>
                    <GradientStop Color="#34d399" Offset="0"/>
                    <GradientStop Color="Transparent" Offset="1"/>
                </RadialGradientBrush>
            </Ellipse.Fill>
        </Ellipse>

        <!-- ═══ MAIN CONTENT GRID ═══ -->
        <Viewbox Stretch="Uniform">
            <Grid Width="1200" Height="800">
                <Grid Margin="16">
                    <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- ═══════════════════════════════════════════════════════ -->
            <!--              CUSTOM TITLE BAR + HEADER                  -->
            <!-- ═══════════════════════════════════════════════════════ -->
            <Border Grid.Row="0" CornerRadius="16" Padding="16,10">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#0c1225" Offset="0"/>
                        <GradientStop Color="#111a33" Offset="0.5"/>
                        <GradientStop Color="#0c1225" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>
                <Border.BorderBrush>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#1a2744" Offset="0"/>
                        <GradientStop Color="#22d3ee" Offset="0.3"/>
                        <GradientStop Color="#a78bfa" Offset="0.7"/>
                        <GradientStop Color="#1a2744" Offset="1"/>
                    </LinearGradientBrush>
                </Border.BorderBrush>
                <Border.BorderThickness>1</Border.BorderThickness>
                <Border.Effect>
                    <DropShadowEffect ShadowDepth="0" BlurRadius="30" Color="#22d3ee" Opacity="0.12"/>
                </Border.Effect>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Left: Status badges -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" WindowChrome.IsHitTestVisibleInChrome="True">
                        <!-- Pulsing status dot -->
                        <Border Background="#0a2118" CornerRadius="20" Padding="12,6" Margin="0,0,10,0"
                                BorderBrush="#1a3d2e" BorderThickness="1">
                            <StackPanel Orientation="Horizontal">
                                <Ellipse x:Name="StatusDot" Width="8" Height="8"
                                         Fill="{Binding StatusColor}" Margin="0,0,8,0"
                                         VerticalAlignment="Center"/>
                                <TextBlock Text="{Binding StatusText}" FontSize="11" FontWeight="Bold"
                                           Foreground="{StaticResource EmeraldAccent}" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        <Border Background="#0c1a2e" CornerRadius="20" Padding="12,6"
                                BorderBrush="#162d4a" BorderThickness="1">
                            <TextBlock Text="{Binding ServerAddress}" FontSize="11"
                                       Foreground="{StaticResource CyanAccent}" FontFamily="Consolas"/>
                        </Border>
                    </StackPanel>

                    <!-- Center: Brand -->
                    <StackPanel Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <TextBlock HorizontalAlignment="Center" FontSize="22" FontWeight="Bold" Foreground="#10b981">
                            U N B O U N D
                        </TextBlock>
                        <TextBlock Text="C Y B E R   T H R E A T   M O N I T O R"
                                   FontSize="8" FontWeight="SemiBold"
                                   HorizontalAlignment="Center"
                                   Foreground="#6b7280"
                                   Margin="0,3,0,0"/>
                    </StackPanel>

                    <!-- Right: Time + controls -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" WindowChrome.IsHitTestVisibleInChrome="True">
                        <Border Background="#0c1a2e" CornerRadius="20" Padding="12,6" Margin="0,0,10,0"
                                BorderBrush="#162d4a" BorderThickness="1">
                            <TextBlock Text="{Binding CurrentDateTime}" FontSize="12"
                                       Foreground="{StaticResource TextMuted}" FontFamily="Consolas"/>
                        </Border>

                        <Button Style="{StaticResource WindowControlBtn}" Tag="#22d3ee" ToolTip="Küçült" AutomationProperties.Name="Küçült" Margin="0,0,6,0" Click="OnMinimize">
                            <Path Data="M 6,16 L 14,16" 
                                  Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" 
                                  StrokeThickness="2.5" StrokeStartLineCap="Round" StrokeEndLineCap="Round" />
                        </Button>
                        <Button Style="{StaticResource WindowControlBtn}" Tag="#fb7185" ToolTip="Kapat" AutomationProperties.Name="Kapat" Click="OnClose">
                            <Path Data="M 6,6 L 14,14 M 14,6 L 6,14" 
                                  Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" 
                                  StrokeThickness="2.5" StrokeStartLineCap="Round" StrokeEndLineCap="Round" />
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Error Banner -->
            <Border Grid.Row="0" VerticalAlignment="Bottom"
                    Margin="60,-1,60,0"
                    Background="#2a0f15"
                    BorderBrush="#f43f5e"
                    BorderThickness="0,0,0,2"
                    CornerRadius="0,0,10,10"
                    Padding="16,8"
                    Visibility="{Binding HasError, Converter={StaticResource BooleanToVisibilityConverter}}">
                <TextBlock Text="{Binding ErrorMessage}"
                           Foreground="#fda4af" FontSize="11" TextWrapping="Wrap"
                           HorizontalAlignment="Center"/>
            </Border>

            <!-- ═══════════════════════════════════════════════════════ -->
            <!--                   METRIC CARDS ROW                      -->
            <!-- ═══════════════════════════════════════════════════════ -->
            <UniformGrid Grid.Row="1" Rows="1" Columns="4" Margin="0,12,0,0">

                <!-- ◆ TOTAL QUERIES -->
                <Border CornerRadius="12" Margin="0,0,10,0" Padding="0"
                        BorderThickness="1" ClipToBounds="True">
                    <Border.BorderBrush>
                        <SolidColorBrush Color="#142e20"/>
                    </Border.BorderBrush>
                    <Border.Background>
                        <SolidColorBrush Color="#08100c"/>
                    </Border.Background>
                    <Border.Effect>
                        <DropShadowEffect ShadowDepth="0" BlurRadius="10" Color="#10b981" Opacity="0.05"/>
                    </Border.Effect>
                    <Grid>
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="12,18,12,12">
                            <TextBlock Text="{Binding TotalQueries}" FontSize="44" FontWeight="Bold"
                                       HorizontalAlignment="Center" Foreground="#10b981">
                                <TextBlock.Effect>
                                    <DropShadowEffect ShadowDepth="0" BlurRadius="8" Color="#10b981" Opacity="0.2"/>
                                </TextBlock.Effect>
                            </TextBlock>
                            <TextBlock Text="TOPLAM SORGU" FontSize="10" FontWeight="Bold"
                                       Foreground="#6b7280" HorizontalAlignment="Center"
                                       Margin="0,6,0,0"/>
                            <TextBlock Text="Gönderilen toplam istek" FontSize="9"
                                       Foreground="#4b5563" HorizontalAlignment="Center"
                                       Margin="0,3,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- ◆ CACHE HIT -->
                <Border CornerRadius="12" Margin="0,0,10,0" Padding="0"
                        BorderThickness="1" ClipToBounds="True">
                    <Border.BorderBrush>
                        <SolidColorBrush Color="#142e20"/>
                    </Border.BorderBrush>
                    <Border.Background>
                        <SolidColorBrush Color="#08100c"/>
                    </Border.Background>
                    <Border.Effect>
                        <DropShadowEffect ShadowDepth="0" BlurRadius="10" Color="#10b981" Opacity="0.05"/>
                    </Border.Effect>
                    <Grid>
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="12,18,12,12">
                            <TextBlock Text="{Binding CacheHitPercent, StringFormat='{}{0:F0}%'}"
                                       FontSize="44" FontWeight="Bold" HorizontalAlignment="Center" Foreground="#10b981">
                                <TextBlock.Effect>
                                    <DropShadowEffect ShadowDepth="0" BlurRadius="8" Color="#10b981" Opacity="0.2"/>
                                </TextBlock.Effect>
                            </TextBlock>
                            <TextBlock Text="ÖNBELLEK YANITI" FontSize="10" FontWeight="Bold"
                                       Foreground="#6b7280" HorizontalAlignment="Center"
                                       Margin="0,6,0,0"/>
                            <TextBlock Text="{Binding CacheHitsText}" FontSize="9"
                                       Foreground="#4b5563" HorizontalAlignment="Center"
                                       TextWrapping="Wrap" Margin="0,3,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- ◆ RESPONSE TIME -->
                <Border CornerRadius="12" Margin="0,0,10,0" Padding="0"
                        BorderThickness="1" ClipToBounds="True">
                    <Border.BorderBrush>
                        <SolidColorBrush Color="#142e20"/>
                    </Border.BorderBrush>
                    <Border.Background>
                        <SolidColorBrush Color="#08100c"/>
                    </Border.Background>
                    <Border.Effect>
                        <DropShadowEffect ShadowDepth="0" BlurRadius="10" Color="#10b981" Opacity="0.05"/>
                    </Border.Effect>
                    <Grid>
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="12,18,12,12">
                            <TextBlock Text="{Binding ResponseTime, StringFormat='{}{0:F0}ms'}"
                                       FontSize="44" FontWeight="Bold" HorizontalAlignment="Center" Foreground="#10b981">
                                <TextBlock.Effect>
                                    <DropShadowEffect ShadowDepth="0" BlurRadius="8" Color="#10b981" Opacity="0.2"/>
                                </TextBlock.Effect>
                            </TextBlock>
                            <TextBlock Text="CEVAP SÜRESİ" FontSize="10" FontWeight="Bold"
                                       Foreground="#6b7280" HorizontalAlignment="Center"
                                       Margin="0,6,0,0"/>
                            <TextBlock Text="{Binding ResponseTimeText}" FontSize="9"
                                       Foreground="#4b5563" HorizontalAlignment="Center"
                                       TextWrapping="Wrap" Margin="0,3,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- ◆ QPS -->
                <Border CornerRadius="12" Padding="0"
                        BorderThickness="1" ClipToBounds="True">
                    <Border.BorderBrush>
                        <SolidColorBrush Color="#142e20"/>
                    </Border.BorderBrush>
                    <Border.Background>
                        <SolidColorBrush Color="#08100c"/>
                    </Border.Background>
                    <Border.Effect>
                        <DropShadowEffect ShadowDepth="0" BlurRadius="10" Color="#10b981" Opacity="0.05"/>
                    </Border.Effect>
                    <Grid>
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="12,18,12,12">
                            <TextBlock Text="{Binding QPS, StringFormat='{}{0:F1}'}"
                                       FontSize="44" FontWeight="Bold" HorizontalAlignment="Center" Foreground="#10b981">
                                <TextBlock.Effect>
                                    <DropShadowEffect ShadowDepth="0" BlurRadius="8" Color="#10b981" Opacity="0.2"/>
                                </TextBlock.Effect>
                            </TextBlock>
                            <TextBlock Text="TARAMA HIZI (QPS)" FontSize="10" FontWeight="Bold"
                                       Foreground="#6b7280" HorizontalAlignment="Center"
                                       Margin="0,6,0,0"/>
                            <TextBlock Text="Gerçek zamanlı tarama hızı" FontSize="9"
                                       Foreground="#4b5563" HorizontalAlignment="Center"
                                       Margin="0,3,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </UniformGrid>

            <!-- ═══════════════════════════════════════════════════════ -->
            <!--                    MAIN CONTENT                         -->
            <!-- ═══════════════════════════════════════════════════════ -->
            <Grid Grid.Row="2" Margin="0,12,0,0" Grid.IsSharedSizeScope="True">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="18"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- ═══ LEFT COLUMN ═══ -->
                <Grid Grid.Column="0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" SharedSizeGroup="TopPanels"/>
                        <RowDefinition Height="12"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- CACHE PANEL -->
                    <Border Grid.Row="0" CornerRadius="12" Padding="16,14"
                            BorderBrush="#142e20" BorderThickness="1">
                        <Border.Background>
                            <SolidColorBrush Color="#08100c"/>
                        </Border.Background>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Header -->
                            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,8">
                                <Border CornerRadius="12" Padding="7" Margin="0,0,10,0"
                                        BorderBrush="#142e20" BorderThickness="1">
                                    <Border.Background>
                                        <SolidColorBrush Color="#0a120e"/>
                                    </Border.Background>
                                    <Path Data="{StaticResource Icon_Server}" Fill="#10b981" Width="14" Height="14" Stretch="Uniform"/>
                                </Border>
                                <TextBlock Text="ÖNBELLEK DURUMU" FontSize="14" FontWeight="Bold"
                                           Foreground="#10b981" VerticalAlignment="Center"/>
                            </StackPanel>

                            <!-- Big progress bar -->
                            <Grid Grid.Row="1" Margin="0,0,0,8">
                                <ProgressBar Value="{Binding CacheHitPercent, Mode=OneWay}"
                                             Style="{StaticResource GlowProgressBar}" Height="20"/>
                                <TextBlock Text="{Binding CacheHitPercent, StringFormat='{}{0:F0}% önbellekte'}"
                                           HorizontalAlignment="Center" VerticalAlignment="Center"
                                           FontSize="12" FontWeight="Bold" Foreground="#050a08">
                                </TextBlock>
                            </Grid>

                            <!-- Stats -->
                            <TextBlock Grid.Row="2" Text="{Binding CacheStats}"
                                       TextWrapping="Wrap" LineHeight="22" FontSize="12"
                                       Foreground="#6b7280" Margin="0,2,0,6"/>

                            <!-- Status message -->
                            <Border Grid.Row="3" CornerRadius="12" Padding="14,10" VerticalAlignment="Bottom"
                                    BorderBrush="#142e20" BorderThickness="1">
                                <Border.Background>
                                    <SolidColorBrush Color="#0a120e"/>
                                </Border.Background>
                                <TextBlock Text="{Binding CacheStatusMessage}" TextWrapping="Wrap"
                                           FontWeight="SemiBold" FontSize="11"
                                           Foreground="{Binding CacheStatusColor}"/>
                            </Border>
                        </Grid>
                    </Border>

                    <!-- MATRIX TERMINAL FEED -->
                    <Border Grid.Row="2" CornerRadius="12" Padding="16,12"
                            BorderBrush="#142e20" BorderThickness="1">
                        <Border.Background>
                            <SolidColorBrush Color="#08100c"/>
                        </Border.Background>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,8">
                                <Border CornerRadius="12" Padding="7" Margin="0,0,10,0"
                                        BorderBrush="#142e20" BorderThickness="1" Background="#0a120e">
                                    <Path Data="{StaticResource Icon_Pulse}" Fill="#10b981" Width="14" Height="14" Stretch="Uniform"/>
                                </Border>
                                <TextBlock Text="SİBER İSTİHBARAT TERMİNALİ" FontSize="14" FontWeight="Bold"
                                           Foreground="#10b981" VerticalAlignment="Center"/>
                                <TextBlock Text="  Canlı Akış (Unbound Engine)" FontSize="10" Foreground="#6b7280"
                                           VerticalAlignment="Center"/>
                            </StackPanel>
                            <!-- MATRIX TERMINAL FEED -->
                            <Border Grid.Row="1" Background="#050a08" CornerRadius="12" BorderThickness="1" BorderBrush="#142e20" Margin="0,4,0,0" ClipToBounds="True">
                                <ScrollViewer VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Disabled">
                                    <ItemsControl ItemsSource="{Binding TerminalLogs}" Margin="12,12,12,12">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding Text}" FontFamily="Consolas, Courier New, monospace" 
                                                           FontSize="13" FontWeight="SemiBold" Foreground="{Binding Color}" LineHeight="18" TextWrapping="Wrap" Margin="0,0,0,4">
                                                    <TextBlock.Effect>
                                                        <DropShadowEffect ShadowDepth="0" BlurRadius="4" Color="{Binding Color.Color}" Opacity="0.5"/>
                                                    </TextBlock.Effect>
                                                </TextBlock>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </ScrollViewer>
                            </Border>
                        </Grid>
                    </Border>
                </Grid>

                <!-- ═══ RIGHT COLUMN ═══ -->
                <Grid Grid.Column="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" SharedSizeGroup="TopPanels"/>
                        <RowDefinition Height="12"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- SYSTEM PANEL -->
                    <Border Grid.Row="0" CornerRadius="12" Padding="16,14"
                            BorderBrush="#142e20" BorderThickness="1">
                        <Border.Background>
                            <SolidColorBrush Color="#08100c"/>
                        </Border.Background>
                        <StackPanel>
                            <!-- Header -->
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <Border CornerRadius="12" Padding="7" Margin="0,0,10,0"
                                        BorderBrush="#142e20" BorderThickness="1" Background="#0a120e">
                                    <Path Data="{StaticResource Icon_Cpu}" Fill="#10b981" Width="16" Height="16" Stretch="Uniform"/>
                                </Border>
                                <TextBlock Text="SİSTEM AKTİVİTESİ" FontSize="14" FontWeight="Bold"
                                           Foreground="#10b981" VerticalAlignment="Center"/>
                            </StackPanel>

                            <!-- CPU -->
                            <Border Background="#0a120e" CornerRadius="12" Padding="16,8" Margin="0,0,0,6"
                                    BorderBrush="#142e20" BorderThickness="1">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="80"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="İşlemci" FontSize="12"
                                               Foreground="#6b7280" VerticalAlignment="Center"/>
                                    <ProgressBar Grid.Column="1" Value="{Binding CpuUsage, Mode=OneWay}"
                                                 Style="{StaticResource GlowProgressBar}" Margin="0,0,14,0"/>
                                    <TextBlock Grid.Column="2" Text="{Binding CpuUsage, StringFormat='{}{0:F0}%'}"
                                               FontSize="13" FontWeight="Bold" Foreground="{Binding CpuColor}"
                                               VerticalAlignment="Center" MinWidth="40" TextAlignment="Right"/>
                                </Grid>
                            </Border>

                            <!-- RAM -->
                            <Border Background="#0a120e" CornerRadius="12" Padding="16,8" Margin="0,0,0,6"
                                    BorderBrush="#142e20" BorderThickness="1">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="80"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Bellek" FontSize="12"
                                               Foreground="#6b7280" VerticalAlignment="Center"/>
                                    <ProgressBar Grid.Column="1" Value="{Binding RamPercent, Mode=OneWay}"
                                                 Style="{StaticResource GlowProgressBar}" Margin="0,0,14,0"/>
                                    <TextBlock Grid.Column="2" Text="{Binding RamText}" FontSize="11"
                                               FontWeight="SemiBold" Foreground="{Binding RamColor}"
                                               VerticalAlignment="Center" MinWidth="90" TextAlignment="Right"/>
                                </Grid>
                            </Border>

                            <!-- Disk -->
                            <Border Background="#0a120e" CornerRadius="12" Padding="16,8" Margin="0,0,0,6"
                                    BorderBrush="#142e20" BorderThickness="1">
                                <StackPanel Orientation="Horizontal">
                                    <Path Data="{StaticResource Icon_Server}" Fill="#6b7280" Width="12" Height="12" Margin="0,0,8,0" Stretch="Uniform" VerticalAlignment="Center"/>
                                    <TextBlock Text="{Binding DiskText, StringFormat='Disk Analizi: {0}'}"
                                               FontSize="12" Foreground="#6b7280" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>

                    <!-- QUERY TYPES -->
                    <Border Grid.Row="2" CornerRadius="12" Padding="16,12"
                            BorderBrush="#142e20" BorderThickness="1">
                        <Border.Background>
                            <SolidColorBrush Color="#08100c"/>
                        </Border.Background>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            
                            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,12">
                                <Border CornerRadius="12" Padding="7" Margin="0,0,10,0"
                                        BorderBrush="#142e20" BorderThickness="1" Background="#0a120e">
                                    <Path Data="{StaticResource Icon_Server}" Fill="#10b981" Width="14" Height="14" Stretch="Uniform"/>
                                </Border>
                                <TextBlock Text="PROTOKOL DAĞILIMI" FontSize="14" FontWeight="Bold"
                                           Foreground="#10b981" VerticalAlignment="Center"/>
                            </StackPanel>
                            
                            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" PanningMode="VerticalOnly" Margin="0,0,-6,0" Padding="0,0,6,0">
                                <ItemsControl ItemsSource="{Binding QueryTypes}">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border Background="#0a120e" CornerRadius="12" Padding="14,5" Margin="0,0,0,4"
                                                    BorderBrush="#142e20" BorderThickness="1">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Grid.Column="0" Text="{Binding Name}" FontSize="11"
                                                               Foreground="#6b7280" VerticalAlignment="Center"/>
                                                    <Border Grid.Column="1" CornerRadius="12" Padding="10,3"
                                                            BorderBrush="#142e20" BorderThickness="1" Background="#08100c">
                                                        <TextBlock Text="{Binding Count}" FontSize="11"
                                                                   Foreground="#10b981" FontWeight="Bold"/>
                                                    </Border>
                                                </Grid>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </ScrollViewer>
                        </Grid>
                    </Border>
                </Grid>
            </Grid>

            <!-- ═══════════════════════════════════════════════════════ -->
            <!--                  ACTION BUTTONS                         -->
            <!-- ═══════════════════════════════════════════════════════ -->
            <Border Grid.Row="3" CornerRadius="12" Padding="14,10" Margin="0,12,0,0"
                    BorderBrush="#142e20" BorderThickness="1">
                <Border.Background>
                    <SolidColorBrush Color="#08100c"/>
                </Border.Background>
                <UniformGrid Rows="1" Columns="4">
                    <Button Command="{Binding WarmupCommand}"
                            Style="{StaticResource PillButton}" Margin="0,0,10,0"
                            ToolTip="Sık ziyaret edilen siteleri hafızaya yükleyerek hızlandırır"
                            Background="#0a120e" BorderBrush="#142e20" BorderThickness="1">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <Path Data="{StaticResource Icon_Server}" Fill="#10b981" Width="14" Height="14" Margin="0,0,6,0" Stretch="Uniform"/>
                            <TextBlock Text="ÖNBELLEK YÜKLE" FontWeight="Bold" Foreground="#10b981"/>
                        </StackPanel>
                    </Button>
                    <Button Command="{Binding FlushCommand}"
                            Style="{StaticResource PillButton}" Margin="0,0,10,0"
                            Background="#0a120e" BorderBrush="#142e20" BorderThickness="1">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <Path Data="{StaticResource Icon_Trash}" Fill="#f59e0b" Width="14" Height="14" Margin="0,0,6,0" Stretch="Uniform"/>
                            <TextBlock Text="TEMİZLİK" FontWeight="Bold" Foreground="#f59e0b"/>
                        </StackPanel>
                    </Button>
                    <Button Command="{Binding RestartCommand}"
                            Style="{StaticResource PillButton}" Margin="0,0,10,0"
                            Background="#0a120e" BorderBrush="#142e20" BorderThickness="1">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <Path Data="{StaticResource Icon_Reload}" Stroke="#10b981" StrokeThickness="1.5" Width="14" Height="14" Margin="0,0,6,0" Stretch="Uniform"/>
                            <TextBlock Text="YENİDEN BAŞLAT" FontWeight="Bold" Foreground="#10b981"/>
                        </StackPanel>
                    </Button>
                    <Button Command="{Binding SpeedTestCommand}"
                            Style="{StaticResource PillButton}"
                            Background="#0a120e" BorderBrush="#142e20" BorderThickness="1">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <Path Data="{StaticResource Icon_Lightning}" Fill="#10b981" Width="14" Height="14" Margin="0,0,6,0" Stretch="Uniform"/>
                            <TextBlock Text="HIZ TESTİ" FontWeight="Bold" Foreground="#10b981"/>
                        </StackPanel>
                    </Button>
                </UniformGrid>
            </Border>
                </Grid>
            </Grid>
        </Viewbox>
        </Grid>
    </Border>
</Window>
